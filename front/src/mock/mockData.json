{
    "text": "### Ð˜Ñ‚Ð¾Ð³\n- Ð Ð¸ÑÐº: **ðŸŸ  Warning (40/100)**\n- Ð”Ñ€Ð°Ð¹Ð²ÐµÑ€Ñ‹: R_CAST_PREVENTS_INDEX, R_RANGE_TIME_QUERY\n- Confidence factor: 1.0\n\n### Ð ÐµÐºÐ¾Ð¼ÐµÐ½Ð´Ð°Ñ†Ð¸Ð¸ (Ð¿Ð¾ Ð¿Ñ€Ð¸Ð¾Ñ€Ð¸Ñ‚ÐµÑ‚Ñƒ)\n- Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½Ð° ÐºÐ¾Ð»Ð¾Ð½ÐºÐµ Ð¼ÐµÑˆÐ°ÐµÑ‚ Ð¸Ð½Ð´ÐµÐºÑÑƒ: Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€\n  - ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ: nodeId: 1300800, relation: public.rental\n  - Ð§Ñ‚Ð¾ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ: ÐŸÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ñ‚ÑŒ WHERE Ð±ÐµÐ· to_char(): \"rental_date\" >= DATE '{fromDate}' AND \"rental_date\" < DATE '{toDate_next}'\n  - DDL: `CREATE INDEX CONCURRENTLY idx_\"rental\"_rental_date_ts ON rental(\"rental_date\");`\n    â€¢ rollback: `DROP INDEX CONCURRENTLY idx_\"rental\"_rental_date_ts;`\n    â€¢ Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ: Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ANALYZE\n  - ÐšÐ°Ðº ÑÑ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚: Ñ‚Ð¸Ð¿: index_usage_enable; Ð¾Ñ†ÐµÐ½ÐºÐ°: heuristic\n  - Ð²Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ: low; ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ: high\n- Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸: Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ (Ð²Ð¾Ð·Ð¼Ð¾Ð¶ÐµÐ½ ÑÐ¾ÑÑ‚Ð°Ð²Ð½Ð¾Ð¹)\n  - ÐŸÐ¾Ñ‡ÐµÐ¼Ñƒ: nodeId: 1300800, relation: public.rental\n  - DDL: `CREATE INDEX CONCURRENTLY idx_\"rental\"_rental_date_range ON rental(\"rental_date\");`\n    â€¢ rollback: `DROP INDEX CONCURRENTLY idx_\"rental\"_rental_date_range;`\n    â€¢ Ð¿Ð¾ÑÐ»Ðµ ÑÐ¾Ð·Ð´Ð°Ð½Ð¸Ñ: Ð²Ñ‹Ð¿Ð¾Ð»Ð½Ð¸Ñ‚ÑŒ ANALYZE\n  - ÐšÐ°Ðº ÑÑ‚Ð¾ Ð¿Ð¾Ð¼Ð¾Ð¶ÐµÑ‚: Ñ‚Ð¸Ð¿: cost_delta; Ð¾Ñ†ÐµÐ½ÐºÐ°: estimate\n  - Ð²Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ: low; ÑƒÐ²ÐµÑ€ÐµÐ½Ð½Ð¾ÑÑ‚ÑŒ: medium\n",
    "risk": {
        "score": 40,
        "severity": "warning",
        "drivers": ["R_CAST_PREVENTS_INDEX", "R_RANGE_TIME_QUERY"],
        "confidence_factor": 1.0
    },
    "recommendations": [{
        "id": "REC_R_CAST_PREVENTS_INDEX_1300800",
        "rule_id": "R_CAST_PREVENTS_INDEX",
        "type": "sql_rewrite",
        "title": "Ð¤ÑƒÐ½ÐºÑ†Ð¸Ñ Ð½Ð° ÐºÐ¾Ð»Ð¾Ð½ÐºÐµ Ð¼ÐµÑˆÐ°ÐµÑ‚ Ð¸Ð½Ð´ÐµÐºÑÑƒ: Ð¿ÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ñ‚ÑŒ Ñ„Ð¸Ð»ÑŒÑ‚Ñ€",
        "action": {
            "ddl": "CREATE INDEX CONCURRENTLY idx_\"rental\"_rental_date_ts ON rental(\"rental_date\");",
            "rewrite_sql_hint": "ÐŸÐµÑ€ÐµÐ¿Ð¸ÑÐ°Ñ‚ÑŒ WHERE Ð±ÐµÐ· to_char(): \"rental_date\" >= DATE '{fromDate}' AND \"rental_date\" < DATE '{toDate_next}'"
        },
        "expected_gain": {
            "kind": "index_usage_enable",
            "value": null,
            "source": "heuristic"
        },
        "effort": "low",
        "confidence": "high",
        "evidence": [{
            "nodeId": 1300800,
            "relation": "public.rental",
            "selectivity": null,
            "memEstMB": null,
            "workMemMB": null
        }]
    }, {
        "id": "REC_R_RANGE_TIME_QUERY_1300800",
        "rule_id": "R_RANGE_TIME_QUERY",
        "type": "index",
        "title": "Ð”Ð¸Ð°Ð¿Ð°Ð·Ð¾Ð½ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸: Ð´Ð¾Ð±Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸Ð½Ð´ÐµÐºÑ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ (Ð²Ð¾Ð·Ð¼Ð¾Ð¶ÐµÐ½ ÑÐ¾ÑÑ‚Ð°Ð²Ð½Ð¾Ð¹)",
        "action": {
            "ddl": "CREATE INDEX CONCURRENTLY idx_\"rental\"_rental_date_range ON rental(\"rental_date\");"
        },
        "expected_gain": {
            "kind": "cost_delta",
            "value": null,
            "source": "estimate"
        },
        "effort": "low",
        "confidence": "medium",
        "evidence": [{
            "nodeId": 1300800,
            "relation": "public.rental",
            "selectivity": null,
            "memEstMB": null,
            "workMemMB": null
        }]
    }]
}